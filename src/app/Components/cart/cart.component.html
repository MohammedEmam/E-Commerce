<div class=""></div>
<ng-template #CartEmpty>
    <div class="container text-center h2 my-3"> Cart Is Empty</div>
</ng-template>
<section *ngIf="userDataCart?.numOfCartItems > 0 ; else CartEmpty " class="container bg-light my-5 p-5 rounded-3">
<div class="d-flex justify-content-between align-items-center mb-3">
    <div>
        <h2 class="h3">Cart Shop</h2>
      </div>
      <div>
        <span *ngIf="userDataCart?.numOfCartItems>0" role="button" class="main-btn p-2  ">Chech Out</span>
      </div>
    
</div>
<div class="d-flex justify-content-between align-items-center">
    <div>
        <h3 class="h5">
          total price:
          <span class="text-main h5">{{ userDataCart?.data?.totalCartPrice }}</span>
        </h3>
      </div>
      <div>
        <h3 class="h5">
          total number of items:
          <span class="text-main h5">{{ userDataCart?.numOfCartItems }}</span>
        </h3>
      </div>
</div>

<div *ngFor="let item of userDataCart?.data?.products" class="row my-2 py-2 border-bottom">
    <div class="col-2">
        <img  class="w-100 rounded-3" [src]="item?.product?.imageCover" alt="{{item?.product?.title}}">
    </div>
    <div class="col-10 d-flex justify-content-between align-items-center">
        <div>
            <h4 class="h5">{{item?.product?.title}}</h4>
            <h4 class="h6">{{item.price | currency: ' '  }} EGP</h4>
            <span (click)="removeItem(item?.product?._id)" role="button" class="text-danger"><i class="fa-regular fa-trash-can"></i> Remove</span>
        </div>
        <div>
            <button #BTN1 (click)="updateCartProductQuantity(item?.product?._id ,item?.count+1 , BTN1 , BTN2)" role="button" class=" border-main py-2 px-3 ">+</button >
            <span class="mx-3">{{item?.count}}</span>
            <button #BTN2 [disabled]="item?.count<2" (click)="updateCartProductQuantity(item?.product?._id ,item?.count-1 , BTN1 , BTN2)" role="button" class=" border-main py-2 px-3  ">-</button>
        </div>
    </div>
</div>
<div class="d-flex justify-content-between my-3">
  <button [routerLink]="['/payment' , userDataCart?.data?._id]" class="btn main-btn ">Online Payment <img src="assets/Images/visa-1.svg" alt=""></button>
  <button (click)="ClearUserCart()"  class="btn btn-danger ">Remove Cart <i class="fa-regular fa-trash-can"></i> </button>
</div>
</section>
